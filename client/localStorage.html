<!DOCTYPE html>
<html ng-app="ItaliaSportApplication">
    <head>

        <!-- Meta Definition -->
        <meta charset="utf-8">
        <meta name="description" content="Progetto di applicazioni Web e Cloud" />
        <meta name="keywords" content="Sport, events, football, tennis" />
        <meta name="author" content="Lorenzo Comi" />
        <title>Italia Sport</title>

        <!-- Angular Setup -->
        <script src="bower_components/angular/angular.js"></script>
        <script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
        <script src="bower_components/angular-resource/angular-resource.min.js"></script>

        <!-- Application Setup -->
        <script src="public/appRoutes.js"></script>
        <script src="public/app.js"></script>

        <!-- Style -->
        <link rel="stylesheet" href="css/locals/style.css">


    </head>
    <body>

        <!-- Header della pagina -->
        <header role="banner">
            <h1>Italia Sport</h1>
            <h2>Esempio di utilizzo del Local Storage</h2>
        </header>


        <div>
              <table id="table" class="table">
                    <thead>
                        <tr align="center">
                            <th>Immagine</th>
                            <th>Nome</th>
                            <th>Cognome</th>
                            <th>Sport</th>
                            <th>Paese di Nascita</th>
                            <th>Data di Nascita</th>
                            <th>Stato</th>
                            <th>Altezza (Cm)</th>
                            <th>Peso (Kg)</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
              </table>
        </div>

        <script src="/italiaSport.js"></script>
        <script>
            console.log("scrivo SPORTIVI nel localstorage");
            localStorage.setItem("sportivi", JSON.stringify(sportiviDat));
            console.log("leggo SPORTIVI dal localstorage");
            (function() {
                'use strict';

                var table, row, cell;

                var result=JSON.parse(localStorage.getItem("sportivi"));
                console.log(result);

                table = document.getElementById('table');

                for (var i = 0; i < result.length; i++) {
                    // insert a new row at the end of the table
                    row = table.insertRow(-1);

                    cell = row.insertCell();
                    cell.innerHTML = '<img src="'+result[i].thumbnail+'" height="100" width="100">';

                    cell = row.insertCell();
                    cell.innerHTML = result[i].name;

                    cell = row.insertCell();
                    cell.innerHTML = result[i].lastname;

                    cell = row.insertCell();
                    cell.innerHTML = result[i].sport.toUpperCase();

                    cell = row.insertCell();
                    cell.innerHTML = result[i].birth.placeOfBirth;

                    cell = row.insertCell();
                    cell.innerHTML = result[i].birth.date;

                    cell = row.insertCell();
                    cell.innerHTML = result[i].birth.country;

                    cell = row.insertCell();
                    cell.innerHTML = result[i].height;

                    cell = row.insertCell();
                    cell.innerHTML = result[i].weight;

                }
            })();
        </script>

        <footer>
            <p>2017
                <a href="http://www.unimi.it/default.htm">
                    Universit√† degli Studi di Milano
                </a>
                Lorenzo Comi
            </p>
        </footer>

    </body>
</html>